#include "cDate.h"

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////// CONSTRUCTORS //////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

cDate::cDate(unsigned short usDay, unsigned short usMonth, unsigned int usYear)
{
    m_usDay = usDay;
    m_usMonth = usMonth;
    m_uiYear = usYear;
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////// SETTERS ///////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void cDate::setDay(unsigned short usDay)
{
    if (m_usDay <= 31 && m_usDay >= 1)
        m_usDay = usDay;
    else
    {
        std::cout << "Invalid date" << std::endl;
    }
}

void cDate::setMonth(unsigned short usMonth)
{
    if (m_usMonth <= 12 && m_usMonth >= 1)
        m_usMonth = usMonth;
    else
    {
        std::cout << "Invalid date" << std::endl;
    }
}

void cDate::setYear(unsigned int uiYear)
{
    if (m_uiYear >= 0)
        m_uiYear = uiYear;
    else
    {
        std::cout << "Invalid date" << std::endl;
    }
}

void cDate::setDate(unsigned short usDay, unsigned short usMonth, unsigned int uiYear)
{
    setDay(usDay);
    setMonth(usMonth);
    setYear(uiYear);
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////// GETTERS ///////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

unsigned short cDate::getDay() const
{
    return m_usDay;
}

unsigned short cDate::getMonth() const
{
    return m_usMonth;
}

unsigned int cDate::getYear() const
{
    return m_uiYear;
}

std::string cDate::getDate() const
{
    return std::to_string(m_usDay) + "/" + std::to_string(m_usMonth) + "/" + std::to_string(m_uiYear);
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////// INPUT & OUTPUT ///////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

std::ostream &operator<<(std::ostream &out, const cDate &date)
{
    out << date.m_usDay << "/" << date.m_usMonth << "/" << date.m_uiYear;
    return out;
}

std::istream &operator>>(std::istream &in, cDate &date)
{
    std::cout << "Enter date: " << std::endl;
    std::cout << "+ Day: ";
    in >> date.m_usDay;
    std::cout << "+ Month: ";
    in >> date.m_usMonth;
    std::cout << "+ Year: ";
    in >> date.m_uiYear;
    return in;
}
